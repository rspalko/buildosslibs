<HTML>
<HEAD>
<TITLE> Kakadu Hyper-Doc (kdu_client::set_cache_file_handling) </TITLE>
<STYLE TYPE="text/css">
<!--
.indented-text { padding-left: 20pt; }
.function-text { padding-left: 80pt;
                 text-indent: -60pt; }
-->
</STYLE>
</HEAD>
<BODY TEXT="#000000" LINK="#0000ff" BGCOLOR="#B4DCB4">
<P ALIGN="RIGHT">|<A HREF="#SynopsiS"> synopsis </A>||<A HREF="#ArgS"> arguments </A>||<A HREF="kdu_client__ope$che_file.html"> prev </A>||<A HREF="kdu_client__get$handling.html"> next </A>|</P>
<H1><A NAME="ToP">kdu_client::set_cache_file_handling</A></H1>
<DIR><DIR><H3><EM><U>Java:</U> Kdu_client.Set_cache_file_handling</EM></H3></DIR></DIR>
<P CLASS="function-text"><B>void</B> set_cache_file_handling(
<B>int</B>&nbsp;handling)</P>
<DIR><DIR><P CLASS="function-text"><EM><U>Java:</U> public native void Set_cache_file_handling(
int&nbsp;handling)</EM></P></DIR></DIR>
<P><A HREF="kdu_client.html">Go to class description.</A></P>

<P ALIGN="CENTER"><HR></P><H2><A NAME="SynopsiS">Synopsis</A></H2>
<DIV CLASS="indented-text">
<P>
This function can be used to alter the way in which
cache files are treated, after a call to 
<A HREF="kdu_client__connect.html">connect</A> or 
<A HREF="kdu_client__ope$che_file.html">open_with_cache_file</A>, overriding the 
<B>cache_file_handling</B> argument supplied to those functions. The function
has no effect unless a non-NULL 
<B>cache_dir</B> was supplied to 
<A HREF="kdu_client__connect.html">connect</A> or 
<A HREF="kdu_client__ope$che_file.html">open_with_cache_file</A>, since the last call to 
<A HREF="kdu_client__close.html">close</A> or since the object was constructed.
</P><P>
 As in 
<A HREF="kdu_client__connect.html">connect</A> and 
<A HREF="kdu_client__ope$che_file.html">open_with_cache_file</A>, the 
<A HREF="kdu_client__set$handling.html#handling">handling</A> value should consist of zero or more of the following
flags:
</P><UL><LI>
<A HREF="globals.html#KDU_CLIENT_FILE_LOAD">KDU_CLIENT_FILE_LOAD</A> has no effect when used with this function, since
loading of existing cache files in the 
<B>cache_dir</B> directory takes place only in connection with calls
to 
<A HREF="kdu_client__connect.html">connect</A> or 
<A HREF="kdu_client__ope$che_file.html">open_with_cache_file</A>.
</LI><LI>
<A HREF="globals.html#KDU_CLIENT_FILE_DELETE">KDU_CLIENT_FILE_DELETE</A> means that that any matching cache file in the cache
directory passed to 
<A HREF="kdu_client__connect.html">connect</A> or 
<A HREF="kdu_client__ope$che_file.html">open_with_cache_file</A> should be deleted, regardless of whether it existed
before the 
<A HREF="kdu_client__connect.html">connect</A> or 
<A HREF="kdu_client__ope$che_file.html">open_with_cache_file</A> call or was created since then &mdash; this may be
used to implement "private browsing", or perhaps just
to minimize file system resource consumption for content
that is deemed insufficiently valuable. Note that the
deletion activity will take place immediately for this
option, except where a save or deletion operation is
already in progress, in which case the deletion should
occur as soon as that in-progress activity completes.
</LI><LI>
<A HREF="globals.html#KDU_CLIENT_FILE_SAVE">KDU_CLIENT_FILE_SAVE</A> means that a cache file should be saved to the cache
directory supplied to 
<A HREF="kdu_client__connect.html">connect</A> or 
<A HREF="kdu_client__ope$che_file.html">open_with_cache_file</A>, except where there is no non-trivial target-id available
for the JPIP target being used by this object, or where
an existing cache file is already completely up to
date. The saving action will not actually take place
until a client thread is about to terminate upon disconnection,
or the 
<A HREF="kdu_client__close.html">close</A> function is called (explicitly or implicitly). It
may be that there is nothing to save at the time when
this function is called, but this changes after a subsequent
call to 
<A HREF="kdu_client__reconnect.html">reconnect</A> or 
<A HREF="kdu_client__aug$che_file.html">augment_with_cache_file</A>, in which case the save will still occur.
</LI></UL><P>
 One particularly important application for this function
is to avoid redundant cache saving operations when
a mobile application moves into the background. Unlike
desktop platform, mobile devices typically present
only one foreground application, to which all resources
should preferably be dedicated. It is unhelpful, therefore,
to have a background application consuming valuable
bandwidth on JPIP services when it cannot be seen.
As a result, if the app is moved to the background
(e.g., to receive a phone call) the 
<A HREF="kdu_client__disconnect.html">disconnect</A> function should be used to gracefully close the connection.
However, the expectation is that the connection may
be restored (using 
<A HREF="kdu_client__reconnect.html">reconnect</A>) at a later point, which might not be far away. To
conserve power, it is best to keep the received JPIP
data in the memory cache without saving anything, at
least until memory needs to be reclaimed by other applications.
</P><P>
 With the above in mind, you are recommended to call
this function with 
<A HREF="kdu_client__set$handling.html#handling">handling</A>=0 immediately before 
<A HREF="kdu_client__disconnect.html">disconnect</A> when your application is about to move to the background.
When the app is brought into the foreground again,
you can call this function again, with 
<A HREF="kdu_client__set$handling.html#handling">handling</A>=
<A HREF="globals.html#KDU_CLIENT_FILE_SAVE">KDU_CLIENT_FILE_SAVE</A>, and then call 
<A HREF="kdu_client__reconnect.html">reconnect</A> (you can also do these in reverse order, but that
is slightly less preferable). If your background app
needs to call 
<A HREF="kdu_client__close.html">close</A> to free up memory, it can call this function with
<A HREF="kdu_client__set$handling.html#handling">handling</A>=
<A HREF="globals.html#KDU_CLIENT_FILE_SAVE">KDU_CLIENT_FILE_SAVE</A> first, so that the 
<A HREF="kdu_client__close.html">close</A> function manages the save-to-disk process.
</P>
</DIV>

<P ALIGN="CENTER"><HR></P><H2><A NAME="ArgS">Arguments</A></H2><DIV CLASS="indented-text">
<H4><A NAME="handling">handling</A> [<B>int</B>]</H4><DIV CLASS="indented-text">
</DIV>
</DIV>

<P ALIGN="CENTER"><HR></P><P ALIGN="RIGHT">|<A HREF="#ToP"> top </A>||<A HREF="#SynopsiS"> synopsis </A>||<A HREF="#ArgS"> arguments </A>||<A HREF="kdu_client__ope$che_file.html"> prev </A>||<A HREF="kdu_client__get$handling.html"> next </A>|</P>
</BODY>
</HTML>
