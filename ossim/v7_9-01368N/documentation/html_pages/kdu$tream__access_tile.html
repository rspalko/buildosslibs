<HTML>
<HEAD>
<TITLE> Kakadu Hyper-Doc (kdu_codestream::access_tile) </TITLE>
<STYLE TYPE="text/css">
<!--
.indented-text { padding-left: 20pt; }
.function-text { padding-left: 80pt;
                 text-indent: -60pt; }
-->
</STYLE>
</HEAD>
<BODY TEXT="#000000" LINK="#0000ff" BGCOLOR="#B4DCB4">
<P ALIGN="RIGHT">|<A HREF="#SynopsiS"> synopsis </A>||<A HREF="#ReturnS"> return value </A>||<A HREF="#ArgS"> arguments </A>||<A HREF="kdu$tream__close_tiles.html"> prev </A>||<A HREF="kdu$tream__get_comment.html"> next </A>|</P>
<H1><A NAME="ToP">kdu_codestream::access_tile</A></H1>
<DIR><DIR><H3><EM><U>Java:</U> Kdu_codestream.Access_tile</EM></H3></DIR></DIR>
<P CLASS="function-text"><A HREF ="kdu_tile.html">kdu_tile</A> access_tile(
<A HREF ="kdu_coords.html">kdu_coords</A>&nbsp;tile_idx,
<B>bool</B>&nbsp;wait_for_background_open,
<A HREF ="kdu$d_env.html">kdu_thread_env</A>&nbsp;*&nbsp;env)</P>
<DIR><DIR><P CLASS="function-text"><EM><U>Java:</U> public native Kdu_tile Access_tile(
Kdu_coords&nbsp;tile_idx,
boolean&nbsp;wait_for_background_open,
Kdu_thread_env&nbsp;env)</EM></P></DIR></DIR>
<P><A HREF="kdu$tream.html">Go to class description.</A></P>

<P ALIGN="CENTER"><HR></P><H2><A NAME="SynopsiS">Synopsis</A></H2>
<DIV CLASS="indented-text">
<P>
This function serves two purposes. First, it may be
used to access a tile that is already open, without
any significant overhead &mdash; if the tile is not
already open, this function returns an empty interface
rather that acquiring a critical section and opening
it.
</P><P>
 Second, and perhaps most importantly, this function
can be used to wait for tiles referenced by a prior
call to 
<A HREF="kdu$tream__open_tiles.html">open_tiles</A> to be opened by a background thread. To do this, you
need to specify 
<A HREF="kdu$tream__access_tile.html#wait_for_background_open">wait_for_background_open</A>=true and provide a non-NULL 
<A HREF="kdu$tream__access_tile.html#env">env</A> argument.
</P><P>
 As explained with the 
<A HREF="kdu$tream__open_tiles.html">open_tiles</A> function, only one thread can simultaneously wait
for the opening of any given tile &mdash; attempting
to do this from multiple asynchronous threads will
usually generate an error through 
<A HREF="kdu_error.html">kdu_error</A>. On the other hand, it is perfectly fine for multiple
threads to be simultaneously waiting on different tiles
within the same codestream.
</P>
</DIV>

<P ALIGN="CENTER"><HR></P><H2><A NAME="ReturnS">Return Value</A></H2><DIV CLASS="indented-text">
<P>
An empty interface is returned if the tile is not already
open, except where the tile has been scheduled for
opening in the background (by 
<A HREF="kdu$tream__open_tiles.html">open_tiles</A>) and 
<A HREF="kdu$tream__access_tile.html#wait_for_background_open">wait_for_background_open</A> is true. Calling the function with 
<A HREF="kdu$tream__access_tile.html#wait_for_background_open">wait_for_background_open</A>=false can be understood as a polling operation that
always returns immediately.
</P>
</DIV>
<H2><A NAME="ArgS">Arguments</A></H2><DIV CLASS="indented-text">
<H4><A NAME="tile_idx">tile_idx</A> [<A HREF ="kdu_coords.html">kdu_coords</A>]</H4><DIV CLASS="indented-text">
<P>
The tile indices must lie within the region returned
by the 
<A HREF="kdu$tream__get$lid_tiles.html">get_valid_tiles</A> function; otherwise, an error will be generated.
</P>
</DIV>
<H4><A NAME="wait_for_background_open">wait_for_background_open</A> [<B>bool</B>]</H4><DIV CLASS="indented-text">
<P>
Ignored unless 
<A HREF="kdu$tream__access_tile.html#env">env</A> is non-NULL; in that case, if the argument is true
and the tile has been scheduled for opening by a background
job (via a prior call to 
<A HREF="kdu$tream__open_tiles.html">open_tiles</A>), the call does not return until the tile has actually
been opened. It is not exactly true to say that the
caller is "blocked" during any such wait. Instead,
the caller participates in processing any jobs that
may have been scheduled to the multi-threaded environment.
</P>
</DIV>
<H4><A NAME="env">env</A> [<A HREF ="kdu$d_env.html">kdu_thread_env</A>&nbsp;*]</H4><DIV CLASS="indented-text">
<P>
May be NULL unless you want the 
<A HREF="kdu$tream__access_tile.html#wait_for_background_open">wait_for_background_open</A> feature; in the latter case, the 
<A HREF="kdu$tream__access_tile.html#env">env</A> pointer must refer to the unique 
<A HREF="kdu$d_env.html">kdu_thread_env</A> object that is associated with the calling thread.
In most cases, this is the 
<A HREF="kdu$d_env.html">kdu_thread_env</A> object that was explicitly created by the calling
thread (or has become owned by the calling thread in
the most recent call to 
<A HREF="kdu$ntity__cha$er_thread.html">kdu_thread_entity::change_group_owner_thread</A>). Otherwise, 
<A HREF="kdu$tream__access_tile.html#env">env</A> identifies a worker thread that was added to the thread
group &mdash; in this case, the worker thread is executing
a scheduled job from which this function is being called
with the 
<A HREF="kdu$tream__access_tile.html#env">env</A> pointer received when the job function entered.
</P>
</DIV>
</DIV>

<P ALIGN="CENTER"><HR></P><P ALIGN="RIGHT">|<A HREF="#ToP"> top </A>||<A HREF="#SynopsiS"> synopsis </A>||<A HREF="#ReturnS"> return value </A>||<A HREF="#ArgS"> arguments </A>||<A HREF="kdu$tream__close_tiles.html"> prev </A>||<A HREF="kdu$tream__get_comment.html"> next </A>|</P>
</BODY>
</HTML>
