<HTML>
<HEAD>
<TITLE> Kakadu Hyper-Doc (kdu_region_compositor::configure_scaling_params) </TITLE>
<STYLE TYPE="text/css">
<!--
.indented-text { padding-left: 20pt; }
.function-text { padding-left: 80pt;
                 text-indent: -60pt; }
-->
</STYLE>
</HEAD>
<BODY TEXT="#000000" LINK="#0000ff" BGCOLOR="#B4DCB4">
<P ALIGN="RIGHT">|<A HREF="#SynopsiS"> synopsis </A>||<A HREF="#ArgS"> arguments </A>||<A HREF="kdu$sitor__set$ror_level.html"> prev </A>||<A HREF="kdu$sitor__con$y_scaling.html"> next </A>|</P>
<H1><A NAME="ToP">kdu_region_compositor::configure_scaling_params</A></H1>
<DIR><DIR><H3><EM><U>Java:</U> Kdu_region_compositor.Configure_scaling_params</EM></H3></DIR></DIR>
<P CLASS="function-text"><B>void</B> configure_scaling_params(
<B>float</B>&nbsp;min_resampling_factor=0.6f,
<B>float</B>&nbsp;max_interp_overshoot=0.4f,
<B>int</B>&nbsp;bilinear_expansion_threshold=2)</P>
<DIR><DIR><P CLASS="function-text"><EM><U>Java:</U> public native void Configure_scaling_params(
float&nbsp;min_resampling_factor,
float&nbsp;max_interp_overshoot,
int&nbsp;bilinear_expansion_threshold)</EM></P></DIR></DIR>
<P><A HREF="kdu$sitor.html">Go to class description.</A></P>

<P ALIGN="CENTER"><HR></P><H2><A NAME="SynopsiS">Synopsis</A></H2>
<DIV CLASS="indented-text">
<P>
This function allows you to configure the way in which
scaling is performed when rendering at scales that
are not identical to any of the decoding resolutions
available from the underlying codestreams. In simple
cases, there are a set of natural scales generated
by discarding DWT levels from the wavelet transform
representation. This is the most efficient way to render
an image at a different scale. However, this does not
generally produce all the scales that might be of interest
to an application: it cannot produce scales that are
higher than the original image resolution (interpolation);
nor can it produce scales that are smaller than the
resolution of the lowest frequency subband (the LL
band); and of course it cannot produce a continuum
of scales, which is often of interest. In fact it may
not be possible to render complex compositions or animations
at any scale at all, without scaling at least some
of the involved codestreams to sizes that are not available
by simply discarding DWT levels.
</P><P>
 In practice, you can pass just about any scale at
all to the 
<A HREF="kdu$sitor__set_scale.html">set_scale</A> function, letting the internal machinery take care
of deciding how many DWT levels to discard from each
codestream and how to resample the resulting decoded
imagery using appropriate filtering techniques. This
function, however, allows you to customize the way
in which this is done. The 
<A HREF="kdu$sitor__con$ng_params.html#max_interp_overshoot">max_interp_overshoot</A> and 
<A HREF="kdu$sitor__con$ng_params.html#bilinear_expansion_threshold">bilinear_expansion_threshold</A> arguments correspond exactly to the 
<B>max_overshoot</B> and 
<B>zero_overshoot_threshold</B> arguments to 
<A HREF="kdu$essor__set$behaviour.html">kdu_region_decompressor::set_interpolation_behaviour</A>. They are passed directly to that function whenever
a region decompressor is configured to do the underlying
decompression, scaling and colour conversion. You are
generally advised to stick with the default values,
but this function provides you with a way to modify
them. The default value of 
<A HREF="kdu$sitor__con$ng_params.html#bilinear_expansion_threshold">bilinear_expansion_threshold</A>=2 means that resampling operations that are used to
interpolate from a given decoded image resolution will
use disciplined 6-tap interpolation kernels until the
expansion factor reaches 2 or more, at which point
the much simpler bilinear interpolation technique takes
over. Bilinear interpolation is the most common method
employed by graphics engines, but is decidedly inferior
to the disciplined method that is used here by default.
You might choose to set this parameter to 1 for maximum
throughput (minimum CPU effort) when resampling involves
expansion (scaling by more than 1), but the disciplined
technique is already implemented in a highly efficient
manner on most common platforms (X86 and ARM-NEON platforms
in particular).
</P><P>
 The 
<A HREF="kdu$sitor__con$ng_params.html#min_resampling_factor">min_resampling_factor</A> value is the smallest scaling factor to be applied
to a decoded image resolution if there are still more
DWT levels that could be discarded. By default, the
<A HREF="kdu$sitor__con$ng_params.html#min_resampling_factor">min_resampling_factor</A> is 0.6, which means that the imagery may be decoded
at a resolution which is as much as 1.667 times higher
(in both directions) than the final rendered result.
</P><P>
 Another way to interpret 
<A HREF="kdu$sitor__con$ng_params.html#min_resampling_factor">min_resampling_factor</A> is that the maximum amount by which a decoded image
resolution will be expanded through resampling is 
<A HREF="kdu$sitor__con$ng_params.html#min_resampling_factor">min_resampling_factor</A> / 0.5, unless there are no higher decoding resolutions
available (through adding DWT levels). The default
value for 
<A HREF="kdu$sitor__con$ng_params.html#min_resampling_factor">min_resampling_factor</A> of 0.6 means that no decoded resolution will be interpolated
by more than a factor of 1.2, unless it is already
the highest (original) resolution.
</P><P>
 The default value of 0.6 tends to lead to very high
image quality across pretty much all scales, but it
can result in the need to decode almost 3 times as
many samples as the rendered image will contain (1
/ 0.6^2). For mobile platforms, or devices with retina
displays, this is almost certainly overkill; in such
circumstances, a value of 0.7 or 0.75 is probably more
appropriate for the 
<A HREF="kdu$sitor__con$ng_params.html#min_resampling_factor">min_resampling_factor</A>, which is a prime reason for us to provide this configuration
function.
</P>
</DIV>

<P ALIGN="CENTER"><HR></P><H2><A NAME="ArgS">Arguments</A></H2><DIV CLASS="indented-text">
<H4><A NAME="min_resampling_factor">min_resampling_factor</A> [<B>float</B>]</H4><DIV CLASS="indented-text">
</DIV>
<H4><A NAME="max_interp_overshoot">max_interp_overshoot</A> [<B>float</B>]</H4><DIV CLASS="indented-text">
</DIV>
<H4><A NAME="bilinear_expansion_threshold">bilinear_expansion_threshold</A> [<B>int</B>]</H4><DIV CLASS="indented-text">
</DIV>
</DIV>

<P ALIGN="CENTER"><HR></P><P ALIGN="RIGHT">|<A HREF="#ToP"> top </A>||<A HREF="#SynopsiS"> synopsis </A>||<A HREF="#ArgS"> arguments </A>||<A HREF="kdu$sitor__set$ror_level.html"> prev </A>||<A HREF="kdu$sitor__con$y_scaling.html"> next </A>|</P>
</BODY>
</HTML>
