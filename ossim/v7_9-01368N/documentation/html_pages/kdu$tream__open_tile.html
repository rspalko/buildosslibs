<HTML>
<HEAD>
<TITLE> Kakadu Hyper-Doc (kdu_codestream::open_tile) </TITLE>
<STYLE TYPE="text/css">
<!--
.indented-text { padding-left: 20pt; }
.function-text { padding-left: 80pt;
                 text-indent: -60pt; }
-->
</STYLE>
</HEAD>
<BODY TEXT="#000000" LINK="#0000ff" BGCOLOR="#B4DCB4">
<P ALIGN="RIGHT">|<A HREF="#SynopsiS"> synopsis </A>||<A HREF="#ArgS"> arguments </A>||<A HREF="kdu$tream__set$runcation.html"> prev </A>||<A HREF="kdu$tream__create_tile.html"> next </A>|</P>
<H1><A NAME="ToP">kdu_codestream::open_tile</A></H1>
<DIR><DIR><H3><EM><U>Java:</U> Kdu_codestream.Open_tile</EM></H3></DIR></DIR>
<P CLASS="function-text"><A HREF ="kdu_tile.html">kdu_tile</A> open_tile(
<A HREF ="kdu_coords.html">kdu_coords</A>&nbsp;tile_idx,
<A HREF ="kdu$d_env.html">kdu_thread_env</A>&nbsp;*&nbsp;env=NULL)</P>
<DIR><DIR><P CLASS="function-text"><EM><U>Java:</U> public native Kdu_tile Open_tile(
Kdu_coords&nbsp;tile_idx,
Kdu_thread_env&nbsp;env)</EM></P></DIR></DIR>
<P><A HREF="kdu$tream.html">Go to class description.</A></P>

<P ALIGN="CENTER"><HR></P><H2><A NAME="SynopsiS">Synopsis</A></H2>
<DIV CLASS="indented-text">
<P>
Accesses a specific tile, returning an interface which
can be used for accessing the tile's contents and further
interfaces to specific tile-components. The returned
interface contains no state of its own, but only an
embedded reference to the real state information, which
is buried in the implementation. When a tile is first
opened, the internal state information may be automatically
created from the code-stream parameters available at
that time. These in turn may be translated automatically
from marker segments if this is an input codestream.
Indeed, for this to happen, any amount of the code-stream
may need to be read and buffered internally, depending
upon whether or not the sufficient information is available
to support random access into the code-stream.
</P><P>
 For these reasons, you should be careful only to open
tiles which you really want to read from or write to.
Instead of walking through tiles to find one you are
interested in, use the 
<A HREF="kdu$tream__find_tile.html">find_tile</A> member function. You may also find the 
<A HREF="kdu$tream__get$tile_dims.html">get_tile_dims</A> function useful.
</P><P>
 With input codestreams, the function attempts to read
and buffer the minimum amount of the code-stream in
order to satisfy the request. Although not mandatory,
it is a good idea to close all tiles (see 
<A HREF="kdu_tile__close.html">kdu_tile::close</A>) once you are done with them.
</P><P>
 If you are generating an output codestream, you should
not call this function prior to completing the configuration
of all codestream parameters and invoking 
<A HREF="kdu_params__fin$lize_all__1.html">kdu_params::finalize_all</A> on the pointer returned via 
<A HREF="kdu$tream__access_siz.html">access_siz</A>.
</P><P>
 If the codestream was created for interchange or for
persistent input (see 
<A HREF="kdu$tream__create__1.html">create</A> and 
<A HREF="kdu$tream__set$ersistent.html">set_persistent</A>), it is possible to re-open a tile that has previously
been closed. Otherwise, attempting to do this will
generate an error through 
<A HREF="kdu_error.html">kdu_error</A>.
</P><P>
 From KDU-7.4, you are allowed to invoke this function
on a tile that is already open. This may make sense,
since the tile may have been scheduled for background
opening by a call to 
<A HREF="kdu$tream__open_tiles.html">open_tiles</A>, after which you may try to force an immediate opening
of the tile by calling this function, which may find
the tile already open or else acquire a mutual exclusion
lock and perform the opening itself.
</P><P>
 Provision of a non-NULL 
<A HREF="kdu$tream__open_tile.html#env">env</A> argument (must be a reference to the 
<A HREF="kdu$d_env.html">kdu_thread_env</A> object that uniquely identifies the calling thread)
ensures thread safety of this call with respect to
any other threads that are interacting with the 
<A HREF="kdu$tream.html">kdu_codestream</A> machinery, including threads that may be opening/closing
other tiles, their precincts or their code-blocks.
</P><P>
 Note, however, that there is no guarantee of thread
safety for multiple threads that asynchronously attempt
to open/close the same tile. Tiles are not reference
counted. You can access the tile from multiple threads,
but it is your responsibility to ensure that the opening
and subsequent closing (
<A HREF="kdu_tile__close.html">kdu_tile::close</A>) of a tile are serialized. The only exception to this
is that forced immediate opening of tiles may be attempted
asynchronously with respect to a background processing
job to which the opening operation may have been scheduled,
as explained above.
</P>
</DIV>

<P ALIGN="CENTER"><HR></P><H2><A NAME="ArgS">Arguments</A></H2><DIV CLASS="indented-text">
<H4><A NAME="tile_idx">tile_idx</A> [<A HREF ="kdu_coords.html">kdu_coords</A>]</H4><DIV CLASS="indented-text">
<P>
The tile indices must lie within the region returned
by the 
<A HREF="kdu$tream__get$lid_tiles.html">get_valid_tiles</A> function; otherwise, an error will be generated.
</P>
</DIV>
<H4><A NAME="env">env</A> [<A HREF ="kdu$d_env.html">kdu_thread_env</A>&nbsp;*]</H4><DIV CLASS="indented-text">
<P>
This argument is provided to enable safe asynchronous
opening of tiles by multiple threads. If this is the
first time a non-NULL 
<A HREF="kdu$d_env.html">kdu_thread_env</A> reference is passed to one of the codestream interface
functions, the internal machinery required to handle
multi-threaded processing will be constructed on the
fly.
</P><P>
 Note that a non-NULL 
<A HREF="kdu$tream__open_tile.html#env">env</A> pointer is unique to the calling thread &mdash; in
most cases 
<A HREF="kdu$tream__open_tile.html#env">env</A> points to the 
<A HREF="kdu$d_env.html">kdu_thread_env</A> object that was explicitly created and the calling
thread is the thread-group owner (the one that created
it, unless you have explicitly invoked 
<A HREF="kdu$ntity__cha$er_thread.html">kdu_thread_entity::change_group_owner_thread</A>). Otherwise, 
<A HREF="kdu$tream__open_tile.html#env">env</A> identifies a worker thread that was added to the thread
group &mdash; in this case, the worker thread is executing
a scheduled job from which this function is being called.
</P>
</DIV>
</DIV>

<P ALIGN="CENTER"><HR></P><P ALIGN="RIGHT">|<A HREF="#ToP"> top </A>||<A HREF="#SynopsiS"> synopsis </A>||<A HREF="#ArgS"> arguments </A>||<A HREF="kdu$tream__set$runcation.html"> prev </A>||<A HREF="kdu$tream__create_tile.html"> next </A>|</P>
</BODY>
</HTML>
