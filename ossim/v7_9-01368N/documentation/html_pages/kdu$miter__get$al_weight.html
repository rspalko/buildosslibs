<HTML>
<HEAD>
<TITLE> Kakadu Hyper-Doc (kdu_quality_limiter::get_square_visual_weight) </TITLE>
<STYLE TYPE="text/css">
<!--
.indented-text { padding-left: 20pt; }
.function-text { padding-left: 80pt;
                 text-indent: -60pt; }
-->
</STYLE>
</HEAD>
<BODY TEXT="#000000" LINK="#0000ff" BGCOLOR="#B4DCB4">
<P ALIGN="RIGHT">|<A HREF="#SynopsiS"> synopsis </A>||<A HREF="#ReturnS"> return value </A>||<A HREF="#ArgS"> arguments </A>||<A HREF="kdu$miter__get$comp_info.html"> prev </A>|</P>
<H1><A NAME="ToP">kdu_quality_limiter::get_square_visual_weight</A></H1>
<DIR><DIR><H3><EM><U>Java:</U> Kdu_quality_limiter.Get_square_visual_weight</EM></H3></DIR></DIR>
<P CLASS="function-text">virtual <B>float</B> get_square_visual_weight(
<B>int</B>&nbsp;orientation,
<B>int</B>&nbsp;rel_depth,
<A HREF ="kdu_coords.html">kdu_coords</A>&nbsp;component_subsampling,
<B>bool</B>&nbsp;is_chroma,
<B>bool</B>&nbsp;reversible)</P>
<DIR><DIR><P CLASS="function-text"><EM><U>Java:</U> public native float Get_square_visual_weight(
int&nbsp;orientation,
int&nbsp;rel_depth,
Kdu_coords&nbsp;component_subsampling,
boolean&nbsp;is_chroma,
boolean&nbsp;reversible)</EM></P></DIR></DIR>
<P><A HREF="kdu$miter.html">Go to class description.</A></P>

<P ALIGN="CENTER"><HR></P><H2><A NAME="SynopsiS">Synopsis</A></H2>
<DIV CLASS="indented-text">
<P>
Called from within 
<A HREF="kdu$tream__app$trictions__1.html">kdu_codestream::apply_input_restrictions</A> to determine: a) whether a particular subband should
be the subject of quality limitation; and b) any "visual"
weighting that should be applied to the subband distortions.
</P><P>
 If 
<A HREF="kdu$miter__get$al_weight.html#reversible">reversible</A> is true and the object was constructed with 
<B>preserve_if_reversible</B>=true, this function should return a -ve value, which
is interpreted by the caller as meaning that the subband's
code-blocks should not be truncated during decompression,
regardless of the other parameters. Custom derived
classes may override this function to return -ve values
under other circumstances also.
</P><P>
 For a full explanation of how visual weights are incorporated
into the quality limitation procedure employed by 
<A HREF="kdu$tream__app$trictions__1.html">kdu_codestream::apply_input_restrictions</A>, see the comments that appear with the constructor.
</P>
</DIV>

<P ALIGN="CENTER"><HR></P><H2><A NAME="ReturnS">Return Value</A></H2><DIV CLASS="indented-text">
<P>
-ve if the relevant subband is not to be subjected
to any quality limitation. Otherwise, the return value
should be the strictly positive value, (W_sb)^2, whose
role is explained carefully in the comments that accompany
the object's constructor.
</P>
</DIV>
<H2><A NAME="ArgS">Arguments</A></H2><DIV CLASS="indented-text">
<H4><A NAME="orientation">orientation</A> [<B>int</B>]</H4><DIV CLASS="indented-text">
<P>
One of 
<A HREF="globals.html#LL_BAND">LL_BAND</A>, 
<A HREF="globals.html#HL_BAND">HL_BAND</A>, 
<A HREF="globals.html#LH_BAND">LH_BAND</A> or 
<A HREF="globals.html#HH_BAND">HH_BAND</A>, identifying the top-level subband orientation category
to which the relevant subband belongs. See 
<A HREF="kdu_block.html#orientation">kdu_block::orientation</A> for further discussion of subband orientation.
</P>
</DIV>
<H4><A NAME="rel_depth">rel_depth</A> [<B>int</B>]</H4><DIV CLASS="indented-text">
<P>
Depth within the DWT decomposition pyramid at which
the subband appears, after removing any discarded DWT
levels identified in the call to 
<A HREF="kdu$tream__app$trictions__1.html">kdu_codestream::apply_input_restrictions</A>. After removal of any discarded levels, the highest
resolution HL, LH and HH bands have 
<A HREF="kdu$miter__get$al_weight.html#rel_depth">rel_depth</A>=1. This means that only an LL band can have 
<A HREF="kdu$miter__get$al_weight.html#rel_depth">rel_depth</A>=0 and then only if there is no DWT to synthesize (allowing
for discarded DWT levels).
</P>
</DIV>
<H4><A NAME="component_subsampling">component_subsampling</A> [<A HREF ="kdu_coords.html">kdu_coords</A>]</H4><DIV CLASS="indented-text">
<P>
Subsampling factors for the component to which the
subband belongs.
</P>
</DIV>
<H4><A NAME="is_chroma">is_chroma</A> [<B>bool</B>]</H4><DIV CLASS="indented-text">
<P>
The caller tries to determine whether a codestream
image component (and hence its subbands) represents
chroma-type information. This is deduced, in part,
by the chromaticity of output image components, as
retrieved by 
<A HREF="kdu$miter__get$comp_info.html">get_comp_info</A>, but also by considering any Part-1 decorrelating
or Part-2 multi-component transforms that are involved.
</P>
</DIV>
<H4><A NAME="reversible">reversible</A> [<B>bool</B>]</H4><DIV CLASS="indented-text">
<P>
True if the subband was produced using a reversible
transform and no DWT levels have been discarded. The
object can be configured to avoid applying quality
limitations to reversibly transformed content that
is being reconstructed at full resolution (see constructor),
which is the safest option. Lossless compression is
only possible with reversible transforms and it might
be wreckless to lower the rendering quality of content
that was deliberately compressed in a lossless manner,
just to improve throughput.
</P>
</DIV>
</DIV>

<P ALIGN="CENTER"><HR></P><P ALIGN="RIGHT">|<A HREF="#ToP"> top </A>||<A HREF="#SynopsiS"> synopsis </A>||<A HREF="#ReturnS"> return value </A>||<A HREF="#ArgS"> arguments </A>||<A HREF="kdu$miter__get$comp_info.html"> prev </A>|</P>
</BODY>
</HTML>
