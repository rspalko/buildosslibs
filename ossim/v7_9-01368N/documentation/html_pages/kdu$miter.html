<HTML>
<HEAD>
<TITLE> Kakadu Hyper-Doc (kdu_quality_limiter) </TITLE>
<STYLE TYPE="text/css">
<!--
.indented-text { padding-left: 20pt; }
-->
</STYLE>
</HEAD>
<BODY TEXT="#000000" LINK="#0000ff" BGCOLOR="#FFF491">
<P ALIGN="RIGHT">|<A HREF="#SynopsiS"> synopsis </A>||<A HREF="#FuncS"> functions </A>|</P>
<H1><A NAME="ToP">kdu_quality_limiter</A></H1>
<DIR><DIR><H3><U>Java:</U> class Kdu_quality_limiter</H3></DIR></DIR>

<P>[Declared in <A HREF="++++coresy$u_compressed+h.html">"../coresys/common/kdu_compressed.h"</A>]</P><P>[<U>c++ namespace</U> = "kdu_core::"]</P>
<P ALIGN="CENTER"><HR></P><H2><A NAME="SynopsiS">Synopsis</A></H2>
<DIV CLASS="indented-text">
<P>
Instances of this object may be passed to any of the
<A HREF="kdu$tream__app$trictions__1.html">kdu_codestream::apply_input_restrictions</A> functions to limit the maximum decoded quality associated
with a 
<A HREF="kdu$tream.html">kdu_codestream</A>. When such quality limits are in place, calls to 
<A HREF="kdu$bband__open_block.html">kdu_subband::open_block</A> may retrieve a reduced number of coding passes and
their associated code bytes. Quality limitation is
based on an overally "weighted MSE" criterion (actually
its square root) and a set of weights. If there are
no weights, the criterion is just MSE. The weighted
MSE criterioun is transferred to constraints on the
coding passes that need to be decoded (if available)
for each code-block of each subband, based on a high
rate rate-distortion optimization model &mdash; similar
to what might have been used if the content had been
originally compressed with the weighted MSE target
in mind.
</P><P>
 This type of quality limitation is most useful when
decoding and reconstructing a codestream at reduced
resolution (discarding some higher resolution levels),
since the compressed quality of a given subband must
be much higher when it is used to reconstruct high
resolution imagery than low resolution imagery. This
means that a high quality very high resolution image
contains low resolution subbands that typically have
extremely high fidelity (and bit-rate), far more than
is required to provide near visually lossless renditions
of the content at reduced spatial resolution, so significant
decoding effort can be saved by truncating the code-blocks
in a sensible manner during reduced resolution decoding.
The intent of this object is to embody such a "sensible
manner".
</P><P>
 The object can be used with or without visual weighting.
There is an internal implementation of visual weighting
factors that is based on the visual weighting defaults
used by the Kakadu compression demo application "kdu_compress",
amongst others. However, it is expected that high performance
applications might benefit from deriving their own
custom sub-classes of the basic 
<A HREF="kdu$miter.html">kdu_quality_limiter</A> class, implementing more sophisticated visual models.
</P><P>
 The 
<A HREF="kdu$tream__app$trictions__1.html">kdu_codestream::apply_input_restrictions</A> function relies upon the ability of a 
<A HREF="kdu$miter.html">kdu_quality_limiter</A> object to 
<A HREF="kdu$miter__duplicate.html">duplicate</A> itself, since certain operatins that rely upon the
<A HREF="kdu$miter.html">kdu_quality_limiter</A> must be deferred until tiles are opened. It is important,
therefore, that derived classes that maintain their
own state information override the 
<A HREF="kdu$miter__duplicate.html">duplicate</A> function. Derived classes should normally also override
the 
<A HREF="kdu$miter__set$esolution.html">set_display_resolution</A> function, or at least use the protected variables
that it sets.
</P>
</DIV>

<P ALIGN="CENTER"><HR></P><H2><A NAME="FuncS">Public Functions</A></H2><DIV CLASS="indented-text">
<P><A HREF="kdu$miter__kdu$y_limiter.html">kdu_quality_limiter</A> {<U>Java:</U> Kdu_quality_limiter}
</P>
<P><A HREF="kdu$miter__~kd$y_limiter.html">~kdu_quality_limiter</A> [virtual] {<U>Java:</U> Native_destroy}
</P>
<P><A HREF="kdu$miter__duplicate.html">duplicate</A> [virtual] {<U>Java:</U> Duplicate}
</P>
<P><A HREF="kdu$miter__set$esolution.html">set_display_resolution</A> [virtual] {<U>Java:</U> Set_display_resolution}
</P>
<P><A HREF="kdu$miter__set$comp_info.html">set_comp_info</A> [virtual] {<U>Java:</U> Set_comp_info}
</P>
<P><A HREF="kdu$miter__get$hted_rmse.html">get_weighted_rmse</A> {<U>Java:</U> Get_weighted_rmse}
</P>
<P><A HREF="kdu$miter__get$comp_info.html">get_comp_info</A> [virtual] {<U>Java:</U> Get_comp_info}
</P>
<P><A HREF="kdu$miter__get$al_weight.html">get_square_visual_weight</A> [virtual] {<U>Java:</U> Get_square_visual_weight}
</P>
</DIV>
<P ALIGN="CENTER"><HR></P>
<P ALIGN="RIGHT">|<A HREF="#ToP"> top </A>||<A HREF="#SynopsiS"> synopsis </A>||<A HREF="#FuncS"> functions </A>|</P>
</BODY>
</HTML>
